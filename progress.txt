# Progress Log

## Iteration 1
- Created PRD.md with prioritized task list based on codebase analysis
- Created guardrails.md and progress.txt
- Identified 30 lint issues (19 errors, 11 warnings)

## Iteration 2
- Fixed 9 unused import/variable warnings across 8 files
- Lint: 30 → 21 problems (19 errors, 2 warnings)

## Iteration 3
- Replaced `any` types with proper ScaleBand/ScaleLinear from d3-scale in 4 chart layer files
- Lint: 21 → 11 problems (9 errors, 2 warnings)

## Iteration 4
- Fixed conditional useMemo in pagination.tsx by moving early return after hooks
- Fixed aria-sort on button → replaced with aria-label in sortable-header.tsx
- Lint: 11 → 9 problems (8 errors, 1 warning)

## Iteration 5
- Fixed unused `_` variable in useChartInteraction
- Lint: 9 → 8 problems (8 errors, 0 warnings)
- Remaining 8 errors are all `set-state-in-effect` — legitimate Next.js hydration guards

## Iteration 6
- Verified tasks 5-6: /new and /alerts pages already have robust error handling
- Added error.tsx boundaries to /stock/[ticker] and /fund/[cik] routes
- Added not-found.tsx to /stock/[ticker], /fund/[cik], /insider/[cik] with notFound() calls
- Removed unused Link import from stock page after refactoring
- Added task 10: verify build passes

## Lessons learned
- `set-state-in-effect` rule flags legitimate hydration guards; false positives for Next.js
- Check existing code before assuming error handling is missing
- When removing inline UI that uses imports, check if the import is still needed
